{% extends 'base.html' %}
{% load static %}

{% block title %}Home - St. Mary's Nyakhobi Senior School{% endblock %}

{% block extra_css %}
<style>
    .fullpage-hero {
        height: 100vh;
        background: linear-gradient(135deg, var(--maroon) 0%, #a0002a 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        color: white;
        overflow: hidden;
    }
    
    .fullpage-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('/static/images/school-hero-bg.jpg') center/cover no-repeat;
        opacity: 0.4;
        z-index: 1;
    }
    
    .hero-content {
        text-align: center;
        z-index: 2;
        position: relative;
    }
    
    .hero-title {
        font-size: 4rem;
        font-weight: 700;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    
    .hero-subtitle {
        font-size: 1.5rem;
        margin-bottom: 2rem;
        opacity: 0.95;
    }
    
    .hero-motto {
        font-size: 1.2rem;
        font-style: italic;
        color: #ffd700;
        margin-bottom: 3rem;
    }
    
    .hero-cta {
        margin-top: 2rem;
    }
    
    .btn-hero-primary {
        background: #ffd700;
        color: var(--maroon);
        border: none;
        padding: 15px 30px;
        font-weight: 600;
        font-size: 1.1rem;
        border-radius: 50px;
        transition: all 0.3s ease;
    }
    
    .btn-hero-primary:hover {
        background: #ffed4a;
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(255, 215, 0, 0.3);
    }
    
    .btn-hero-outline {
        border: 2px solid white;
        color: white;
        background: transparent;
        padding: 13px 30px;
        font-weight: 600;
        font-size: 1.1rem;
        border-radius: 50px;
        transition: all 0.3s ease;
    }
    
    .btn-hero-outline:hover {
        background: white;
        color: var(--maroon);
    }
    
    .features-section {
        padding: 100px 0;
        background: #f8f9fa;
    }
    
    .feature-card {
        background: white;
        border-radius: 20px;
        padding: 40px 30px;
        text-align: left;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        height: 100%;
        border-left: 5px solid var(--maroon);
    }
    
    .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }
    
    .feature-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(45deg, var(--maroon), #a0002a);
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 25px;
    }
    
    .feature-icon i {
        font-size: 2.5rem;
        color: white;
    }
    
    .feature-title {
        color: var(--maroon);
        font-weight: 700;
        margin-bottom: 20px;
        font-size: 1.5rem;
    }
    
    .feature-description {
        color: #6c757d;
        line-height: 1.7;
        font-size: 1rem;
    }
    
    /* Principal Section Styles */
    .principal-section {
        position: relative;
        overflow: hidden;
    }
    
    .principal-photo-wrapper {
        position: relative;
    }
    
    .principal-home-photo {
        width: 250px;
        height: 250px;
        border-radius: 50%;
        object-fit: cover;
        border: 8px solid white;
        box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }
    
    .principal-home-photo:hover {
        transform: scale(1.05);
        box-shadow: 0 20px 45px rgba(0,0,0,0.15);
    }
    
    .principal-content {
        padding-left: 2rem;
    }
    
    .principal-content blockquote {
        border-left: 4px solid var(--maroon);
        padding-left: 1.5rem;
        font-style: italic;
        color: #6c757d;
        background: #f8f9fa;
        padding: 1.5rem;
        border-radius: 10px;
        margin: 1.5rem 0;
    }
    
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2.5rem;
        }
        .hero-subtitle {
            font-size: 1.2rem;
        }
        .fullpage-hero {
            padding: 20px;
        }
        .principal-content {
            padding-left: 0;
            text-align: center;
        }
        .principal-home-photo {
            width: 200px;
            height: 200px;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Full Page Hero Section -->
<section class="fullpage-hero">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">Welcome to St. Mary's Nyakhobi Senior School</h1>
            <p class="hero-subtitle">Excellence in Education Since 1983</p>
            <p class="hero-motto">"Sacrifice for Success"</p>
            <div class="hero-cta">
                <a href="{% url 'admissions:info' %}" class="btn btn-hero-primary me-3">Apply Now</a>
                <a href="{% url 'home:about' %}" class="btn btn-hero-outline">Learn More</a>
            </div>
        </div>
    </div>
</section>

<!-- Key Features Section -->
<section class="features-section">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="display-5 fw-bold mb-4" style="color: var(--maroon);">Why Choose St. Mary's Nyakhobi?</h2>
                <p class="lead text-muted">We are committed to providing exceptional education that shapes tomorrow's leaders</p>
            </div>
        </div>
        
        <div class="row g-4">
            <!-- Academic Excellence -->
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3 class="feature-title">Academic Excellence</h3>
                    <p class="feature-description">
                        We are committed to achieving significant academic progress by leveraging data-driven insights to 
                        progressively develop each learner's competencies incrementally. We apply cutting-edge technology 
                        and global standards in curriculum delivery to ensure that every learner achieves their full potential.
                    </p>
                </div>
            </div>
            
            <!-- Pastoral Care -->
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3 class="feature-title">Pastoral Care</h3>
                    <p class="feature-description">
                        We embrace our fundamental principles of putting learners' happiness first to create a genuinely happy 
                        learning environment, instill discipline, cultivate leadership qualities, and inculcate strong moral values 
                        that will serve them throughout their lives.
                    </p>
                </div>
            </div>
            
            <!-- Affordability -->
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <h3 class="feature-title">Affordability</h3>
                    <p class="feature-description">
                        We strive to run efficient operations and invest in aspirational amenities that make it possible to provide 
                        high-quality education that is both affordable and valuable for your child's bright future, ensuring 
                        excellence is accessible to all.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Principal Section -->
<section class="principal-section py-5" style="background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-4 text-center mb-4 mb-lg-0">
                <div class="principal-photo-wrapper">
                    <img src="/media/principal-photo.jpg" alt="Mr. Dan F. Olopi - Principal" class="principal-home-photo">
                </div>
            </div>
            <div class="col-lg-8">
                <div class="principal-content">
                    <h2 class="mb-3" style="color: var(--maroon);">A Message from Our Principal</h2>
                    <h4 class="text-muted mb-3">Mr. Dan F. Olopi</h4>
                    <p class="lead mb-4">
                        "Welcome to St. Mary's Nyakhobi Senior School, where we are committed to nurturing excellence in every student. 
                        Our dedicated faculty and staff work tirelessly to provide quality education that prepares students for success 
                        in their academic journey and beyond."
                    </p>
                    <blockquote class="blockquote">
                        <p class="mb-0">"Education is the most powerful weapon which you can use to change the world. At St. Mary's Nyakhobi, 
                        we empower our students to become responsible global citizens and future leaders."</p>
                    </blockquote>
                    <div class="mt-4">
                        <a href="/faculty/" class="btn btn-outline-primary">Meet Our Faculty</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Quick Links Section -->
<section class="quick-links">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="text-primary-custom">Quick Access</h2>
            <p class="lead">Find what you're looking for quickly</p>
        </div>
        
        <div class="row g-4">
            {% for link in quick_links %}
            <div class="col-lg-3 col-md-6">
                <a href="{{ link.link_url }}" class="text-decoration-none">
                    <div class="quick-link-item">
                        <i class="{{ link.icon }}"></i>
                        <h5>{{ link.title }}</h5>
                        <p>{{ link.description }}</p>
                    </div>
                </a>
            </div>
            {% empty %}
            <!-- Default quick links -->
            <div class="col-lg-3 col-md-6">
                <a href="{% url 'admissions:info' %}" class="text-decoration-none">
                    <div class="quick-link-item">
                        <i class="fas fa-user-graduate"></i>
                        <h5>Admissions</h5>
                        <p>Apply for admission and learn about our requirements</p>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-6">
                <a href="{% url 'academics:programs' %}" class="text-decoration-none">
                    <div class="quick-link-item">
                        <i class="fas fa-book"></i>
                        <h5>Academics</h5>
                        <p>Explore our academic programs and curriculum</p>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-6">
                <a href="{% url 'events:events' %}" class="text-decoration-none">
                    <div class="quick-link-item">
                        <i class="fas fa-calendar-alt"></i>
                        <h5>Events</h5>
                        <p>Stay updated with school events and activities</p>
                    </div>
                </a>
            </div>
            <div class="col-lg-3 col-md-6">
                <a href="{% url 'contact:contact' %}" class="text-decoration-none">
                    <div class="quick-link-item">
                        <i class="fas fa-envelope"></i>
                        <h5>Contact</h5>
                        <p>Get in touch with us for any inquiries</p>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- School Statistics -->
<section class="stats-section">
    <div class="container">
        <div class="row text-center">
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="stat-item">
                    <div class="stat-number">800+</div>
                    <h5>Students</h5>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="stat-item">
                    <div class="stat-number">35+</div>
                    <h5>Faculty Members</h5>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="stat-item">
                    <div class="stat-number">45+</div>
                    <h5>Years of Excellence</h5>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="stat-item">
                    <div class="stat-number">88%</div>
                    <h5>KCSE Success Rate</h5>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Latest News -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <!-- Latest News -->
            <div class="col-lg-8 mx-auto mb-5">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3 class="text-primary-custom">Latest News</h3>
                    <a href="{% url 'events:news' %}" class="btn btn-outline-primary">View All</a>
                </div>
                
                {% for news_item in latest_news %}
                <div class="news-item">
                    <h6><a href="#" class="text-decoration-none">{{ news_item.title }}</a></h6>
                    <p class="text-muted">{{ news_item.summary }}</p>
                    <div class="news-meta">
                        <small class="text-muted">
                            <i class="fas fa-clock"></i> {{ news_item.created_at|date:"M d, Y" }}
                        </small>
                    </div>
                </div>
                {% empty %}
                <div class="card">
                    <div class="card-body text-center text-muted">
                        <i class="fas fa-newspaper fa-3x mb-3"></i>
                        <p>No news available at the moment.</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<!-- Welcome Message -->
{% if school_info.welcome_message %}
<section class="py-5 bg-light">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h2 class="text-primary-custom mb-4">Welcome to Our School</h2>
                <p class="lead">{{ school_info.welcome_message }}</p>
                <a href="{% url 'home:about' %}" class="btn btn-primary">Learn More About Us</a>
            </div>
            <div class="col-lg-6">
                <!-- School image will be updated with new photos -->
                <div class="text-center bg-light rounded shadow p-5">
                    <i class="fas fa-school display-1 text-primary mb-3"></i>
                    <h3>New School Photos Coming Soon</h3>
                    <p class="text-muted">We're updating our image gallery with fresh new photos.</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

{% endblock %}

{% block extra_js %}
<script>
    // Initialize counter animations
    document.addEventListener('DOMContentLoaded', function() {
        initCounters();
    });
</script>
{% endblock %}