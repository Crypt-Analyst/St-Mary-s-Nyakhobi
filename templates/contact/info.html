{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Contact Us - St. Mary's Nyakhobi Senior School{% endblock %}

{% block extra_css %}
<style>
    .contact-hero {
        background: linear-gradient(135deg, var(--maroon) 0%, #a0002a 100%);
        color: white;
        padding: 100px 0 60px;
        position: relative;
    }
    .contact-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('/static/images/contact-bg.jpg') center/cover;
                     <h5 class="fw-bold text-maroon mb-3">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        Emergency Contact
                    </h5>
                    <p class="mb-2">For urgent matters outside office hours:</p>
                    <h4 class="fw-bold">0719 831 346</h4>
                    <small>Available 24/7 for emergencies</small>opacity: 0.2;
        z-index: -1;
    }
    .contact-card {
        background: white;
        border-radius: 20px;
        padding: 40px 30px;
        box-shadow: 0 15px 50px rgba(0,0,0,0.1);
        text-align: center;
        transition: all 0.3s ease;
        height: 100%;
        position: relative;
        overflow: hidden;
    }
    .contact-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 25px 60px rgba(128,0,0,0.3);
    }
    .contact-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(45deg, var(--maroon), #a0002a);
    }
    .contact-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(45deg, var(--maroon), #a0002a);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 2rem;
        margin: 0 auto 25px;
    }
    .contact-form {
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 15px 50px rgba(0,0,0,0.1);
    }
    .form-section {
        margin-bottom: 25px;
    }
    .office-hours {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 30px;
        margin: 20px 0;
    }
    .hours-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px solid #dee2e6;
    }
    .hours-item:last-child {
        border-bottom: none;
    }
    .map-container {
        background: #f8f9fa;
        border-radius: 15px;
        height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        color: var(--maroon);
        position: relative;
        overflow: hidden;
    }
    .map-placeholder {
        font-size: 4rem;
        margin-bottom: 15px;
    }
    .department-contact {
        background: white;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        margin-bottom: 20px;
        transition: all 0.3s ease;
    }
    .department-contact:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(128,0,0,0.2);
    }
    .department-icon {
        width: 50px;
        height: 50px;
        background: var(--maroon);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.2rem;
        margin-bottom: 15px;
    }
    .quick-info {
        background: linear-gradient(45deg, var(--maroon), #a0002a);
        color: white;
        border-radius: 15px;
        padding: 30px;
        text-align: center;
    }
    .emergency-contact {
        background: #dc3545;
        color: white;
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        margin: 20px 0;
    }
    .social-links {
        margin: 25px 0;
    }
    .social-link {
        display: inline-block;
        width: 50px;
        height: 50px;
        background: var(--maroon);
        color: white;
        border-radius: 50%;
        text-decoration: none;
        margin: 0 10px;
        font-size: 1.3rem;
        transition: all 0.3s ease;
        line-height: 50px;
        text-align: center;
    }
    .social-link:hover {
        background: #a0002a;
        color: white;
        transform: translateY(-3px);
    }
</style>
{% endblock %}

{% block content %}
<!-- Contact Hero Section -->
<section class="contact-hero">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h1 class="display-4 fw-bold mb-4">Contact Us</h1>
                <p class="lead mb-4">Get in touch with St. Mary's Nyakhobi Senior School. We're here to answer your questions about admissions, academics, and school life.</p>
                <div class="d-flex flex-wrap gap-3">
                    <div class="badge bg-light text-dark fs-6 py-2 px-3">24/7 Emergency Line</div>
                    <div class="badge bg-light text-dark fs-6 py-2 px-3">Quick Response</div>
                    <div class="badge bg-light text-dark fs-6 py-2 px-3">Multiple Channels</div>
                </div>
            </div>
            <div class="col-lg-4 text-center">
                <div class="p-4">
                    <h2 class="display-3 fw-bold">24/7</h2>
                    <p class="fs-5">Available for<br>Emergencies</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Methods -->
<section class="py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="display-5 fw-bold mb-4">Get In Touch</h2>
                <p class="lead text-muted">Multiple ways to reach us for any inquiries or assistance</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Phone Numbers</h4>
                    <div class="mb-3">
                        <p class="mb-2"><strong>Main Office:</strong></p>
                        <a href="tel:+254719831346" class="text-maroon fw-bold">+254 719 831 346</a>
                    </div>
                    <div class="mb-3">
                        <p class="mb-2"><strong>Email:</strong></p>
                        <a href="mailto:nyakhobisecsch@gmail.com" class="text-maroon fw-bold">nyakhobisecsch@gmail.com</a>
                    </div>
                    <small class="text-muted">Available: Monday - Friday, 8AM - 5PM</small>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Email Addresses</h4>
                    <div class="mb-3">
                        <p class="mb-2"><strong>Official Email:</strong></p>
                        <a href="mailto:nyakhobisecsch@gmail.com" class="text-maroon fw-bold">nyakhobisecsch@gmail.com</a>
                    </div>
                    <div class="mb-3">
                        <p class="mb-2"><strong>Admissions:</strong></p>
                        <a href="mailto:nyakhobisecsch@gmail.com" class="text-maroon fw-bold">nyakhobisecsch@gmail.com</a>
                    </div>
                    <div class="mb-3">
                        <p class="mb-2"><strong>Principal:</strong></p>
                        <a href="mailto:nyakhobisecsch@gmail.com" class="text-maroon fw-bold">nyakhobisecsch@gmail.com</a>
                    </div>
                    <small class="text-muted">We respond within 24 hours</small>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Physical Address</h4>
                    <div class="mb-3">
                        <p class="mb-2"><strong>Location:</strong></p>
                        <p class="text-muted">
                            St. Mary's Nyakhobi Senior School<br>
                            P.O. Box 254-50406<br>
                            Funyula, Busia County<br>
                            Kenya<br>
                            <small>Nyakhobi Sub-location, Namboboto Location, Samia Sub-County</small>
                        </p>
                    </div>
                    <div class="mb-3">
                        <p class="mb-2"><strong>GPS Coordinates:</strong></p>
                        <p class="text-muted">0.5167¬∞ N, 34.1167¬∞ E</p>
                    </div>
                    <small class="text-muted">15 minutes from Funyula town center</small>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="contact-form">
                    <div class="text-center mb-4">
                        <h2 class="display-6 fw-bold text-maroon">Send Us a Message</h2>
                        <p class="lead text-muted">Fill out the form below and we'll get back to you as soon as possible</p>
                    </div>
                    
                    <form method="post" class="row g-3">
                        {% csrf_token %}
                        
                        <!-- Personal Information -->
                        <div class="form-section">
                            <h5 class="fw-bold mb-3 text-maroon">
                                <i class="fas fa-user me-2"></i>
                                Contact Information
                            </h5>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">Full Name *</label>
                                    <input type="text" class="form-control" name="full_name" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">Email Address *</label>
                                    <input type="email" class="form-control" name="email" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">Phone Number</label>
                                    <input type="tel" class="form-control" name="phone">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">Relationship to School</label>
                                    <select class="form-select" name="relationship">
                                        <option value="">Select Relationship</option>
                                        <option value="Parent/Guardian">Parent/Guardian</option>
                                        <option value="Prospective Student">Prospective Student</option>
                                        <option value="Current Student">Current Student</option>
                                        <option value="Alumni">Alumni</option>
                                        <option value="Community Member">Community Member</option>
                                        <option value="Media/Press">Media/Press</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Message Details -->
                        <div class="form-section">
                            <h5 class="fw-bold mb-3 text-maroon">
                                <i class="fas fa-message me-2"></i>
                                Message Details
                            </h5>
                            <div class="row g-3">
                                <div class="col-12">
                                    <label class="form-label fw-bold">Subject Category *</label>
                                    <select class="form-select" name="subject_category" required>
                                        <option value="">Select Category</option>
                                        <option value="Admissions Inquiry">Admissions Inquiry</option>
                                        <option value="Academic Information">Academic Information</option>
                                        <option value="Fee Payment">Fee Payment</option>
                                        <option value="Student Welfare">Student Welfare</option>
                                        <option value="Events & Activities">Events & Activities</option>
                                        <option value="Complaints/Feedback">Complaints/Feedback</option>
                                        <option value="Emergency">Emergency</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <label class="form-label fw-bold">Message Subject *</label>
                                    <input type="text" class="form-control" name="subject" placeholder="Brief description of your inquiry" required>
                                </div>
                                <div class="col-12">
                                    <label class="form-label fw-bold">Detailed Message *</label>
                                    <textarea class="form-control" name="message" rows="6" placeholder="Please provide detailed information about your inquiry or concern..." required></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Priority and Preferences -->
                        <div class="form-section">
                            <h5 class="fw-bold mb-3 text-maroon">
                                <i class="fas fa-cog me-2"></i>
                                Preferences
                            </h5>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">Priority Level</label>
                                    <select class="form-select" name="priority">
                                        <option value="Normal">Normal</option>
                                        <option value="High">High</option>
                                        <option value="Urgent">Urgent</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">Preferred Response Method</label>
                                    <select class="form-select" name="response_method">
                                        <option value="Email">Email</option>
                                        <option value="Phone">Phone Call</option>
                                        <option value="SMS">SMS</option>
                                        <option value="Any">Any Method</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <label class="form-label fw-bold">Best Time to Contact (if phone response preferred)</label>
                                    <input type="text" class="form-control" name="best_time" placeholder="e.g., Weekdays 9AM-5PM, Weekends mornings">
                                </div>
                            </div>
                        </div>
                        
                        <!-- File Attachment -->
                        <div class="form-section">
                            <h5 class="fw-bold mb-3 text-maroon">
                                <i class="fas fa-paperclip me-2"></i>
                                Attachments (Optional)
                            </h5>
                            <div class="row g-3">
                                <div class="col-12">
                                    <label class="form-label fw-bold">Attach Files</label>
                                    <input type="file" class="form-control" name="attachment" multiple accept=".pdf,.doc,.docx,.jpg,.png">
                                    <div class="form-text">Accepted formats: PDF, DOC, DOCX, JPG, PNG. Maximum 5MB per file.</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Consent and Submission -->
                        <div class="form-section">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" name="privacy_consent" id="privacy" required>
                                <label class="form-check-label" for="privacy">
                                    I consent to St. Mary's Nyakhobi Senior School processing my personal data to respond to my inquiry. <a href="#" class="text-maroon">Privacy Policy</a>
                                </label>
                            </div>
                            
                            <div class="form-check mb-4">
                                <input class="form-check-input" type="checkbox" name="newsletter" id="newsletter">
                                <label class="form-check-label" for="newsletter">
                                    I would like to receive school newsletters and updates about events and activities.
                                </label>
                            </div>
                            
                            <div class="text-center">
                                <button type="submit" class="btn btn-maroon btn-lg px-5">
                                    <i class="fas fa-paper-plane me-2"></i>
                                    Send Message
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Office Hours & Department Contacts -->
<section class="py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-6">
                <div class="office-hours">
                    <h4 class="fw-bold mb-4 text-maroon">
                        <i class="fas fa-clock me-2"></i>
                        Office Hours
                    </h4>
                    
                    <div class="hours-item">
                        <span class="fw-bold">Monday - Friday</span>
                        <span class="text-maroon fw-bold">8:00 AM - 5:00 PM</span>
                    </div>
                    
                    <div class="hours-item">
                        <span class="fw-bold">Saturday</span>
                        <span class="text-maroon fw-bold">8:00 AM - 12:00 PM</span>
                    </div>
                    
                    <div class="hours-item">
                        <span class="fw-bold">Sunday</span>
                        <span class="text-muted">Closed</span>
                    </div>
                    
                    <div class="hours-item">
                        <span class="fw-bold">Public Holidays</span>
                        <span class="text-muted">Closed</span>
                    </div>
                    
                    <div class="mt-4 p-3 bg-light rounded">
                        <h6 class="fw-bold text-maroon">Emergency Contacts:</h6>
                        <p class="mb-1"><strong>24/7 Emergency Line:</strong> 0719 831 346</p>
                        <p class="mb-0"><strong>School Nurse:</strong> 0719 831 346</p>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <h4 class="fw-bold mb-4 text-maroon">
                    <i class="fas fa-building me-2"></i>
                    Department Contacts
                </h4>
                
                <div class="department-contact">
                    <div class="d-flex align-items-center">
                        <div class="department-icon me-3">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div>
                            <h6 class="mb-1">Principal's Office</h6>
                            <small class="text-muted">
                                <i class="fas fa-phone me-1"></i>0719 831 346<br>
                                <i class="fas fa-envelope me-1"></i>nyakhobisecsch@gmail.com
                            </small>
                        </div>
                    </div>
                </div>
                
                <div class="department-contact">
                    <div class="d-flex align-items-center">
                        <div class="department-icon me-3">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div>
                            <h6 class="mb-1">Admissions Office</h6>
                            <small class="text-muted">
                                <i class="fas fa-phone me-1"></i>0719 831 346<br>
                                <i class="fas fa-envelope me-1"></i>nyakhobisecsch@gmail.com
                            </small>
                        </div>
                    </div>
                </div>
                
                <div class="department-contact">
                    <div class="d-flex align-items-center">
                        <div class="department-icon me-3">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <div>
                            <h6 class="mb-1">Accounts Department</h6>
                            <small class="text-muted">
                                <i class="fas fa-phone me-1"></i>0719 831 346<br>
                                <i class="fas fa-envelope me-1"></i>nyakhobisecsch@gmail.com
                            </small>
                        </div>
                    </div>
                </div>
                
                <div class="department-contact">
                    <div class="d-flex align-items-center">
                        <div class="department-icon me-3">
                            <i class="fas fa-user-nurse"></i>
                        </div>
                        <div>
                            <h6 class="mb-1">Health Center</h6>
                            <small class="text-muted">
                                <i class="fas fa-phone me-1"></i>0719 831 346<br>
                                <i class="fas fa-envelope me-1"></i>nyakhobisecsch@gmail.com
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Map and Directions -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-8">
                <h3 class="fw-bold mb-4">Location & Directions</h3>
                <div class="map-container">
                    <div class="map-placeholder">
                        <i class="fas fa-map-marked-alt"></i>
                    </div>
                    <h5 class="fw-bold">Interactive Map</h5>
                    <p class="text-muted text-center">
                        St. Mary's Nyakhobi Senior School<br>
                        Funyula, Busia County, Kenya<br>
                        <small>Click to open in Google Maps</small>
                    </p>
                </div>
                
                <div class="mt-4">
                    <h5 class="fw-bold mb-3">Directions from Major Towns:</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <i class="fas fa-route text-maroon me-2"></i>
                            <strong>From Busia Town:</strong> 25km via Funyula-Busia Road (30 minutes)
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-route text-maroon me-2"></i>
                            <strong>From Mumias:</strong> 35km via Mumias-Funyula Road (40 minutes)
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-route text-maroon me-2"></i>
                            <strong>From Kisumu:</strong> 85km via Kisumu-Busia Highway (1.5 hours)
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-route text-maroon me-2"></i>
                            <strong>Public Transport:</strong> Matatu from Busia, Mumias, or Kisumu to Funyula
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="quick-info">
                    <h4 class="fw-bold mb-3">
                        <i class="fas fa-info-circle me-2"></i>
                        Quick Information
                    </h4>
                    <ul class="list-unstyled text-start">
                        <li class="mb-2">üìç <strong>Location:</strong> Funyula, Busia County</li>
                        <li class="mb-2">üè´ <strong>Type:</strong> Mixed Secondary School</li>
                        <li class="mb-2">üë• <strong>Population:</strong> 600+ Students</li>
                        <li class="mb-2">üìö <strong>Classes:</strong> Form 1-4</li>
                        <li class="mb-2">üè† <strong>Boarding:</strong> Available</li>
                        <li class="mb-2">‚≠ê <strong>Founded:</strong> 2010</li>
                    </ul>
                    
                    <div class="social-links mt-4">
                        <h6 class="mb-3">Follow Us:</h6>
                        <a href="#" class="social-link" title="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-link" title="Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link" title="YouTube">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                
                <div class="emergency-contact mt-4">
                    <h5 class="fw-bold mb-2">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        Emergency Contact
                    </h5>
                    <p class="mb-2">For urgent matters outside office hours:</p>
                    <h4 class="fw-bold">0719 831 346</h4>
                    <small>Available 24/7 for emergencies</small>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}